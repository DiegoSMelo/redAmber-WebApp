<ui:composition xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:p="http://primefaces.org/ui"
template="#{beanGeral.template}">
	<ui:define name="body">

<h:form>



<ol class="breadcrumb">
  <li><h:outputLink value="/redAmber-WebApp/home/index.xhtml">Página Inicial</h:outputLink></li>
  <li><h:outputLink value="/redAmber-WebApp/curso/index.xhtml">Cursos (<h:outputText value="#{gradeMB.curso.nome}"></h:outputText>)</h:outputLink></li>
  <li class="active">Grades</li>
</ol>



<div class="areaPlus">
		<div class="form-group">
				<h:outputLabel value="Título da grade"
					for="inputTitulo"
					styleClass="control-label">
				</h:outputLabel>
				
				<div>
					<h:inputText 
					styleClass="form-control"
					required="true" 
					tabindex="1"
					requiredMessage="Digite um título para a grade" 
					id="inputTitulo" 
					value="#{gradeMB.grade.titulo}">
					</h:inputText>
					
					<h:message styleClass="text-danger" for="inputTitulo"></h:message>
					
				</div>
			</div>
			
			
			<div class="form-group">
				<div>
					<h:commandLink
					styleClass="btn btn-success"
					actionListener="#{gradeMB.salvar}" value="Adicionar">
						
							<f:ajax execute="inputTitulo" render="tableGrades" />
					</h:commandLink>
				</div>
			</div>
			
</div>



<h:dataTable id="tableGrades" styleClass="table table-hover table-bordered" value="#{gradeMB.listaGrades}" var="grade" emptyMessage="Não há grades cadastradas.">

	<h:column>	
		<f:facet name="header">Grade</f:facet>
		<h:outputText value="#{grade.titulo}"></h:outputText>
	</h:column>

	<h:column>	
		<f:facet name="header">Status</f:facet>
		<h:outputText value="#{grade.status}"></h:outputText>
	</h:column>
	
	
	<h:column>	
	
		<f:facet name="header">Ações</f:facet>
		
		<h:commandLink styleClass="btn btn-info btn-acoes" actionListener="#{professorMB.redirectEdit}">
			<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
			<f:setPropertyActionListener value="#{professor}" target="#{professorMB.professor}"></f:setPropertyActionListener>
		</h:commandLink>
		
		
		
		<h:commandLink id="btnAtivar" styleClass="btn btn-success btn-acoes"  rendered="#{grade.ativo == false}"   
				actionListener="#{gradeMB.ativar}">Ativar
				 
			 <f:param value="#{grade.id}" name="idGradeParam"/>
			
			<!-- <f:ajax render="table-disciplinas" immediate="true" event="click"></f:ajax> -->
		</h:commandLink>
		
		<h:commandLink id="btnInativar" styleClass="btn btn-danger btn-acoes" rendered="#{grade.ativo}" 
				actionListener="#{gradeMB.inativar}">Inativar
				
				
			<f:param value="#{grade.id}" name="idGradeParam"/>
			 
		   <!-- <f:ajax render="table-disciplinas" immediate="true" event="click"></f:ajax> -->
		</h:commandLink>
		
	</h:column>
	
	
</h:dataTable>
		
</h:form>
    		
	</ui:define>
</ui:composition>
