<ui:composition xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:p="http://primefaces.org/ui"
template="#{beanGeral.template}">
	<ui:define name="body">

<h:form>



<ol class="breadcrumb">
  <li><h:outputLink value="/redAmber-WebApp/home/index.xhtml">Página Inicial</h:outputLink></li>
  <li><h:outputLink value="/redAmber-WebApp/curso/index.xhtml">Cursos (<h:outputText value="#{gradeMB.curso.nome}"></h:outputText>)</h:outputLink></li>
  <li class="active">Grades</li>
</ol>



<div class="areaPlus">

			<div class="form-group">
				<h:outputLabel value="Título da grade"
					for="inputTitulo"
					styleClass="control-label">
				</h:outputLabel>
				
				<div>
					<h:inputText 
					styleClass="form-control"
					tabindex="1"
					id="inputTitulo" 
					value="#{gradeMB.grade.titulo}">
					</h:inputText>
					
					<h:message id="messageErrorTituloGrade" styleClass="text-danger" for="inputTitulo"></h:message>
					
				</div>
			</div>
			
			
			<div class="form-group">
				<div>
					<h:commandLink
					styleClass="btn btn-success"
					actionListener="#{gradeMB.salvar}" value="Adicionar">
						
							<f:ajax immediate="true" execute="inputTitulo" render="tableGrades messageErrorTituloGrade" />
					</h:commandLink>
				</div>
			</div>
			
</div>



<h:dataTable id="tableGrades" styleClass="table table-hover table-bordered" value="#{gradeMB.listaGrades}" var="grade" emptyMessage="Não há grades cadastradas.">

	<h:column>	
		<f:facet name="header">Grade</f:facet>
		<h:outputText value="#{grade.titulo}"></h:outputText>
	</h:column>

	<h:column>	
		<f:facet name="header">Status</f:facet>
		<h:outputText value="#{grade.status}"></h:outputText>
	</h:column>
	
	
	<h:column>	
	
		<f:facet name="header">Ações</f:facet>
		
		<h:commandLink styleClass="btn btn-info btn-acoes" actionListener="#{gradeMB.redirectGrade}">
			<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
			<f:setPropertyActionListener value="#{grade}" target="#{gradeMB.grade}"></f:setPropertyActionListener>
		</h:commandLink>
		
		<h:commandLink styleClass="btn btn-info btn-acoes" actionListener="#{gradeMB.redirectPeriodos}">
			Períodos
			<f:setPropertyActionListener value="#{grade}" target="#{periodoMB.grade}"></f:setPropertyActionListener>
		</h:commandLink>
		
	</h:column>
	
	
</h:dataTable>
		
</h:form>
    		
	</ui:define>
</ui:composition>
